<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ì—Ä—É–ø–ø–∞ Middle</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* üéß –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä */
    .music-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 10px 15px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 230px;
      margin: 15px auto;
    }

    /* ‚ñ∂Ô∏è –ö—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ */
    #toggleBtn {
      width: 35px;
      height: 55px;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      color: white;
      background: linear-gradient(135deg, #6366f1, #4338ca);
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.3s;
      box-shadow: 0 0 10px rgba(99,102,241,0.4);
    }

    #toggleBtn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(99,102,241,0.6);
    }

    #toggleBtn.playing {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 8px rgba(99,102,241,0.4); }
      50% { box-shadow: 0 0 18px rgba(99,102,241,0.8); }
    }

    /* üéöÔ∏è –ü–æ–ª–∑—É–Ω–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ */
    #volume {
      -webkit-appearance: none;
      width: 110px;
      height: 6px;
      border-radius: 6px;
      background: linear-gradient(90deg, #6366f1, #a855f7);
      cursor: pointer;
      transition: 0.3s;
    }

    #volume::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 0 5px rgba(99,102,241,0.6);
      transition: 0.2s;
    }

    #volume::-webkit-slider-thumb:hover {
      transform: scale(1.2);
    }
  </style>
</head>
<body>

  <!-- üéµ –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä -->
  <section class="music-controls">
    <button id="toggleBtn">üéµ</button>
    <input type="range" id="volume" min="0" max="1" step="0.01" value="0.3">
    <audio id="bg-music" loop>
      <source src="music2.mp3" type="audio/mpeg">
    </audio>
  </section>

  <!-- üßÆ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div id="score" class="score-display">‚úÖ 0 / 0</div>

  <div id="topic-selection-screen" class="screen active">
    <h1>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ì—Ä—É–ø–ø–∞ Middle</h1>
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É</h2>
    <button class="topic-btn" data-topic-id="1">–¢–µ–º–∞ 4: –ö–ù–î –∏ –°–ù–î</button>
    <button class="topic-btn" data-topic-id="2">–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è</button>
    <button class="topic-btn" data-topic-id="3">–¢–µ–æ—Ä–µ–º–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞</button>
    <button class="topic-btn" data-topic-id="4">–ü—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –∑–∞–¥–∞—á–∏</button>
    <button class="topic-btn" data-topic-id="5">–°—Ç–µ–ø–µ–Ω–∏ –∏ –∫–æ—Ä–Ω–∏</button>
    <button class="topic-btn" data-topic-id="6">–°–∏—Å—Ç–µ–º—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π</button>
  </div>

  <div id="level-selection-screen" class="screen">
    <button class="close-btn" title="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"></button>
    <h1 id="selected-topic-name"></h1>
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</h2>
    <button class="level-btn" data-level="1">–£—Ä–æ–≤–µ–Ω—å 1</button>
    <button class="level-btn" data-level="2">–£—Ä–æ–≤–µ–Ω—å 2</button>
    <button class="level-btn" data-level="3">–£—Ä–æ–≤–µ–Ω—å 3</button>
    <button class="level-btn" data-level="4">–£—Ä–æ–≤–µ–Ω—å 4</button>
    <button class="level-btn" data-level="5">–£—Ä–æ–≤–µ–Ω—å 5</button>
  </div>

  <div id="question-screen" class="screen">
    <button class="close-btn" title="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"></button>
    <h1 id="current-topic-name"></h1>
    <p>–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: <span id="current-level"></span></p>
    <div id="question-container">
      <p id="question-text"></p>
      <input type="text" id="answer-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç">
      <button id="submit-answer-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
    </div>
  </div>

  <div id="result-screen" class="screen">
    <button class="close-btn" title="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"></button>
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
    <p id="result-message"></p>
    <p>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <span id="correct-answer"></span></p>
    <button id="next-question-btn">–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä</button>
  </div>

  <!-- üéß –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π -->
  <script>
    const music = document.getElementById("bg-music");
    const volumeControl = document.getElementById("volume");
    const toggleBtn = document.getElementById("toggleBtn");

    document.addEventListener("click", () => {
      if (music.paused) music.play();
    }, { once: true });

    toggleBtn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        toggleBtn.textContent = "‚è∏Ô∏è";
      } else {
        music.pause();
        toggleBtn.textContent = "üéµ";
      }
    });

    volumeControl.addEventListener("input", () => {
      music.volume = volumeControl.value;
    });

    music.volume = 0.3;
    music.addEventListener("play", () => toggleBtn.classList.add("playing"));
    music.addEventListener("pause", () => toggleBtn.classList.remove("playing"));
  </script>

  <script src="sounds.js"></script>
  <script src="data.js"></script>
  <script src="script.js"></script>

</body>
</html>
